!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function n(t,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inputList=function(t){if(Array.isArray(t))return e(t)}(o=r.querySelectorAll(t.inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._buttonEl=r.querySelector(t.submitButtonSelector),this._formElement=r}var r,o;return r=n,(o=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"toggleButtonState",value:function(){this._inputList.every((function(e){return e.validity.valid}))?(this._buttonEl.classList.remove(this._inactiveButtonClass),this._buttonEl.disabled=!1):(this._buttonEl.classList.add(this._inactiveButtonClass),this._buttonEl.disabled=!0)}},{key:"_setupEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(n){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setupEventListeners()}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._api=t,this._data,this._title=n.title,this._image=n.image,this._cardId=n._id,this._userId=n.userId,this._ownerId=n.owner._id,this._currentUserId=i,this._cardSelector=r,this._handleCardClick=o,this._deleteSubmitHandler=a}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){var e=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0);return this._deleteButton=e.querySelector(".card__btn-delete"),e}},{key:"getView",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".card__image"),this._element.querySelector(".card__title").textContent=this._title,this._likeButton=this._element.querySelector(".card__like-button"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._imageElement.src=this._image,this._imageElement.alt="Photo of ".concat(this._title),this._setupEventListeners(),this._element}},{key:"_setupEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._handleLikeButton()})),this._deleteButton.addEventListener("click",(function(){return e._handleDeleteButton()})),this._imageElement.addEventListener("click",(function(){return e._handleCardClick({title:e._title,image:e._image})}))}},{key:"_handleLikeButton",value:function(){var e=this;this._data.likes.some((function(t){return t._id===e._currentUserId}))?this._removeLike():this._addLike()}},{key:"_updateLikeCounter",value:function(){this._liked=this._element.querySelector(".like-button__counter"),this._liked.textContent=this._liked.length}},{key:"_handleDeleteButton",value:function(){this._deleteSubmitHandler(this._cardId,this._element)}},{key:"_addLike",value:function(){var e=this;this._api.addLike(this._cardId).then((function(t){e._likeButton.classList.add("card__btn-like_active"),e._likeCounter.textContent=t.likes.length,e._data=t})).catch((function(e){console.log(e)}))}},{key:"_removeLike",value:function(){var e=this;this._api.removeLike(this._cardId).then((function(t){e._likeButton.classList.remove("card__btn-like_active"),e._likeCounter.textContent=t.likes.length,e._data=t})).catch((function(e){console.log(e)}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"_handleEscUp",(function(e){"Escape"===e.key&&n.close()})),c(this,"_mouseClick",(function(e){e.target===n._popupElement&&n.close()})),this._popupElement=document.querySelector(t),this._handleEscUp=this._handleEscUp.bind(this)}var t,n;return t=e,(n=[{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-button").addEventListener("click",(function(){e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp),document.addEventListener("mousedown",this._mouseClick)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp),document.removeEventListener("mousedown",this._mouseClick)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._previewImage=t._popupElement.querySelector(".popup__image"),t._previewImageTitle=t._popupElement.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e){this._previewImage.src=e.image,this._previewImage.alt="Photo of ".concat(e.title),this._previewImageTitle.textContent=e.title,f(y(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e,t){var n,r,o,u,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(){r._form.addEventListener("submit",r._handleFormSubmit),w((n=E(r),L(a.prototype)),"setEventListeners",n).call(n)},(u="setEventListeners")in(o=E(r=i.call(this,e)))?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,r._form=r._popupElement.querySelector(".popup__form"),r._inputList=r._popupElement.querySelectorAll(".popup__input"),r._submitButton=r._popupElement.querySelector(".popup__save-button"),r._handleFormSubmit=t,r}return t=a,(n=[{key:"getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"close",value:function(){w(L(a.prototype),"close",this).call(this),this._form.reset()}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=j((function e(t){var n=this,r=t.nameSelector,o=t.descriptionSelector,i=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"getUserInfo",(function(){return{name:n._name.textContent,description:n._description.textContent,avatar:n._avatar.src}})),I(this,"setUserInfo",(function(e){var t=e.name,r=e.description;n._name.textContent=t,n._description.textContent=r,n._avatar.src=avatar})),this._name=document.querySelector(r),this._description=document.querySelector(o),this._avatar=document.querySelector(i)})),B={inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_type_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},P=(document.querySelector(".popup_type_add"),{editModal:".popup_type_edit",nameSelector:".profile__name",descriptionSelector:".profile__description",editButton:document.querySelector(".profile__edit-button"),closeButton:document.querySelector(".popup__close-button")}),T=(document.querySelector(".profile__avatar"),document.querySelector(".modal_type_avatar .modal__form"),document.querySelector("#avatar-input"),{addModal:".popup_type_add",addButton:document.querySelector(".profile__add-button"),closeButton:document.querySelector(".popup__close-button")}),x=api,R=new q({nameSelector:P.nameSelector,descriptionSelector:P.descriptionSelector,avatarSelector:".profile__avatar"}),U=new v(".popup_type_preview");U.setEventListeners(),new O(modalEditUserInfo.selector,{defaultText:"Save",updatingText:"Saving..."},(function(e){return H.setUserInfo({name:e.name,about:e.about}).then((function(e){R.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).catch((function(e){console.log(e)}))})).setEventListeners(),new O(modalEditAvatar.selector,{defaultText:"Save",updatingText:"Saving..."},(function(e){return H.setUserAvatar({avatar:e.link}).then((function(e){R.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).catch((function(e){console.log(e)}))})).setEventListeners();var V=function(e){return new o({data:e,handleCardClick:function(e){U.open(e)}},"#cardTemplate")},A=new a({renderer:function(e){var t=V(e);A.addItem(t.getView())}},".places__list");A.renderItems(initialCards);var D=new O(T.addModal,(function(e){e.preventDefault();var t=D.getInputValues(),n=V({title:t.title,image:t.imageurl});A.addItem(n.getView()),D.close(),$.resetValidation()}));D.setEventListeners();var M=document.querySelector("#owner-name"),F=document.querySelector("#owner-description"),H=new x({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"acca9dd3-a6a4-4626-88e2-60619602bdf9","Content-Type":"application/json"}});P.editButton.addEventListener("click",(function(){var e,t,n;editForm,t=(e=R.getUserInfo()).name,n=e.description,M.value=t,F.value=n,editForm.open()})),T.addButton.addEventListener("click",(function(){D.open()}));var z=document.querySelector(".popup_type_edit"),N=document.querySelector(".popup_type_add");new n(B,z).enableValidation();var $=new n(B,N);$.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiNlNBMEVBLEVBMUVNQSxXQUNGLFdBQVlDLEVBQVVDLEcsbUdBQWEsU0FDL0JDLEtBQUtDLGVBQWlCSCxFQUFTSSxjQUMvQkYsS0FBS0csc0JBQXdCTCxFQUFTTSxxQkFDdENKLEtBQUtLLHFCQUF1QlAsRUFBU1Esb0JBQ3JDTixLQUFLTyxpQkFBbUJULEVBQVNVLGdCQUNqQ1IsS0FBS1MsWUFBY1gsRUFBU1ksV0FDNUJWLEtBQUtXLFcsK0NBQWlCWixFQUFZYSxpQkFBaUJkLEVBQVNJLGlCLGdrQkFDNURGLEtBQUthLFVBQVlkLEVBQVllLGNBQWNoQixFQUFTTSxzQkFDcERKLEtBQUtlLGFBQWVoQixFLG9EQUd4QixTQUFnQmlCLEdBQ1osSUFBTUMsRUFBVWpCLEtBQUtlLGFBQWFELGNBQWxCLFdBQW9DRSxFQUFRRSxHQUE1QyxXQUNoQkYsRUFBUUcsVUFBVUMsSUFBSXBCLEtBQUtPLGtCQUMzQlUsRUFBUUksWUFBY0wsRUFBUU0sa0JBQzlCTCxFQUFRRSxVQUFVQyxJQUFJcEIsS0FBS1MsZSw2QkFHL0IsU0FBZ0JPLEdBQ1osSUFBTUMsRUFBVWpCLEtBQUtlLGFBQWFELGNBQWxCLFdBQW9DRSxFQUFRRSxHQUE1QyxXQUNoQkYsRUFBUUcsVUFBVUksT0FBT3ZCLEtBQUtPLGtCQUM5QlUsRUFBUUksWUFBYyxHQUN0QkosRUFBUUUsVUFBVUksT0FBT3ZCLEtBQUtTLGUsaUNBR2xDLFNBQW9CTyxHQUNYQSxFQUFRUSxTQUFTQyxNQUdsQnpCLEtBQUswQixnQkFBZ0JWLEdBRnJCaEIsS0FBSzJCLGdCQUFnQlgsSywrQkFNN0IsV0FDcUJoQixLQUFLVyxXQUFXaUIsT0FBTSxTQUFDWixHQUFELE9BQWFBLEVBQVFRLFNBQVNDLFVBRWpFekIsS0FBS2EsVUFBVU0sVUFBVUksT0FBT3ZCLEtBQUtLLHNCQUNyQ0wsS0FBS2EsVUFBVWdCLFVBQVcsSUFFMUI3QixLQUFLYSxVQUFVTSxVQUFVQyxJQUFJcEIsS0FBS0ssc0JBQ2xDTCxLQUFLYSxVQUFVZ0IsVUFBVyxLLGtDQUlsQyxXQUF1QixXQUNuQjdCLEtBQUs4QixvQkFDTDlCLEtBQUtXLFdBQVdvQixTQUFRLFNBQUNmLEdBQ3JCQSxFQUFRZ0IsaUJBQWlCLFNBQVMsU0FBQ0MsR0FFL0IsRUFBS0Msb0JBQW9CbEIsR0FDekIsRUFBS2MsNEIsOEJBS2pCLFdBQ0k5QixLQUFLZSxhQUFhaUIsaUJBQWlCLFVBQVUsU0FBQ0csR0FDMUNBLEVBQUlDLG9CQUdScEMsS0FBS3FDLHlCLDZCQUdULFdBQWtCLFdBQ2RyQyxLQUFLOEIsb0JBRUw5QixLQUFLVyxXQUFXb0IsU0FBUSxTQUFDTyxHQUNyQixFQUFLWixnQkFBZ0JZLFcsc0VBcEUzQnpDLEcsMEtDK0ZOLEVBL0ZNMEMsV0FDRixXQUFZQyxFQUFLQyxFQUFNQyxFQUFjQyxFQUFpQkMsRUFBZUMsSSw0RkFBcUIsU0FDdEY3QyxLQUFLOEMsS0FBT04sRUFDWnhDLEtBQUsrQyxNQUNML0MsS0FBS2dELE9BQVNQLEVBQUtRLE1BQ25CakQsS0FBS2tELE9BQVNULEVBQUtVLE1BQ25CbkQsS0FBS29ELFFBQVVYLEVBQUtZLElBQ3BCckQsS0FBS3NELFFBQVViLEVBQUtjLE9BQ3BCdkQsS0FBS3dELFNBQVdmLEVBQUtnQixNQUFNSixJQUMzQnJELEtBQUswRCxlQUFpQmQsRUFDdEI1QyxLQUFLMkQsY0FBZ0JqQixFQUNyQjFDLEtBQUs0RCxpQkFBbUJqQixFQUN4QjNDLEtBQUs2RCxxQkFBdUJoQixFLGlEQUdoQyxXQUNJLElBQU1pQixFQUFjQyxTQUFTakQsY0FBY2QsS0FBSzJELGVBQWVLLFFBQVFsRCxjQUFjLFNBQVNtRCxXQUFVLEdBSXhHLE9BSEFqRSxLQUFLa0UsY0FBZ0JKLEVBQVloRCxjQUM3QixxQkFFR2dELEkscUJBR1gsV0FXSSxPQVZBOUQsS0FBS21FLFNBQVduRSxLQUFLb0UsZUFDckJwRSxLQUFLcUUsY0FBZ0JyRSxLQUFLbUUsU0FBU3JELGNBQWMsZ0JBQ2pEZCxLQUFLbUUsU0FBU3JELGNBQWMsZ0JBQWdCTyxZQUFjckIsS0FBS2dELE9BQy9EaEQsS0FBS3NFLFlBQWN0RSxLQUFLbUUsU0FBU3JELGNBQWMsc0JBQy9DZCxLQUFLa0UsY0FBZ0JsRSxLQUFLbUUsU0FBU3JELGNBQWMsd0JBQ2pEZCxLQUFLcUUsY0FBY0UsSUFBTXZFLEtBQUtrRCxPQUM5QmxELEtBQUtxRSxjQUFjRyxJQUFuQixtQkFBcUN4RSxLQUFLZ0QsUUFFMUNoRCxLQUFLcUMsdUJBRUVyQyxLQUFLbUUsVyxrQ0FHaEIsV0FBdUIsV0FDbkJuRSxLQUFLc0UsWUFBWXRDLGlCQUFpQixTQUFTLGtCQUFNLEVBQUt5Qyx1QkFDdER6RSxLQUFLa0UsY0FBY2xDLGlCQUFpQixTQUFTLGtCQUFNLEVBQUswQyx5QkFDeEQxRSxLQUFLcUUsY0FBY3JDLGlCQUFpQixTQUFTLGtCQUFNLEVBQUs0QixpQkFBaUIsQ0FBRVgsTUFBTyxFQUFLRCxPQUFRRyxNQUFPLEVBQUtELGMsK0JBRy9HLFdBQW9CLFdBQ0FsRCxLQUFLK0MsTUFBTTRCLE1BQU1DLE1BQUssU0FBQ0MsR0FDbkMsT0FBSUEsRUFBS3hCLE1BQVEsRUFBS0ssa0JBT3RCMUQsS0FBSzhFLGNBRUw5RSxLQUFLK0UsYSxnQ0FJYixXQUNJL0UsS0FBS2dGLE9BQVNoRixLQUFLbUUsU0FBU3JELGNBQWMseUJBQzFDZCxLQUFLZ0YsT0FBTzNELFlBQWNyQixLQUFLZ0YsT0FBT0MsUyxpQ0FHMUMsV0FDSWpGLEtBQUs2RCxxQkFBcUI3RCxLQUFLb0QsUUFBU3BELEtBQUttRSxZLHNCQUdqRCxXQUFXLFdBQ1BuRSxLQUFLOEMsS0FDQW9DLFFBQVFsRixLQUFLb0QsU0FDYitCLE1BQUssU0FBQ0MsR0FDSCxFQUFLZCxZQUFZbkQsVUFBVUMsSUFBSSx5QkFDL0IsRUFBS2lFLGFBQWFoRSxZQUFjK0QsRUFBSVQsTUFBTU0sT0FDMUMsRUFBS2xDLE1BQVFxQyxLQUVoQkUsT0FBTSxTQUFDQyxHQUNKQyxRQUFRQyxJQUFJRixRLHlCQUl4QixXQUFjLFdBQ1Z2RixLQUFLOEMsS0FDQTRDLFdBQVcxRixLQUFLb0QsU0FDaEIrQixNQUFLLFNBQUNDLEdBQ0gsRUFBS2QsWUFBWW5ELFVBQVVJLE9BQU8seUJBQ2xDLEVBQUs4RCxhQUFhaEUsWUFBYytELEVBQUlULE1BQU1NLE9BQzFDLEVBQUtsQyxNQUFRcUMsS0FFaEJFLE9BQU0sU0FBQ0MsR0FDSkMsUUFBUUMsSUFBSUYsVyxzRUF6RnRCaEQsRywwS0NBZW9ELEVBQUFBLFdBQ2pCLGFBQTBCQyxHQUFtQixJQUEvQkMsRUFBK0IsRUFBL0JBLFUsNEZBQStCLFNBQzNDN0YsS0FBSzhGLFVBQVlELEVBQ2pCN0YsS0FBSytGLFdBQWFoQyxTQUFTakQsY0FBYzhFLEcsNENBRzNDLFNBQVFJLEdBQ05oRyxLQUFLK0YsV0FBV0UsUUFBUUQsSyx5QkFHMUIsU0FBWUUsR0FBTyxXQUNqQkEsRUFBTW5FLFNBQVEsU0FBQ29FLEdBQ1gsRUFBS0wsVUFBVUssVyxzRUFaSlIsRyxrU0NBQVMsRUFBQUEsV0FDakIsV0FBWUMsR0FBZSxZLDRGQUFBLGdDQXdCWixTQUFDbEUsR0FDSSxXQUFaQSxFQUFJbUUsS0FDSixFQUFLQyxXQTFCYyxzQkE4QmIsU0FBQ3BFLEdBQ1BBLEVBQUlxRSxTQUFXLEVBQUtDLGVBQ3RCLEVBQUtGLFdBL0JQdkcsS0FBS3lHLGNBQWdCMUMsU0FBU2pELGNBQWN1RixHQUM1Q3JHLEtBQUswRyxhQUFlMUcsS0FBSzBHLGFBQWFDLEtBQUszRyxNLHNEQUcvQyxXQUFvQixXQUNJQSxLQUFLeUcsY0FBYzNGLGNBQWMsd0JBQ3pDa0IsaUJBQWlCLFNBQVMsV0FDcEMsRUFBS3VFLGEsa0JBSVgsV0FDSXZHLEtBQUt5RyxjQUFjdEYsVUFBVUMsSUFBSSxnQkFDakMyQyxTQUFTL0IsaUJBQWlCLFFBQVNoQyxLQUFLMEcsY0FDeEMzQyxTQUFTL0IsaUJBQWlCLFlBQWFoQyxLQUFLNEcsZSxtQkFHaEQsV0FDSTVHLEtBQUt5RyxjQUFjdEYsVUFBVUksT0FBTyxnQkFDcEN3QyxTQUFTOEMsb0JBQW9CLFFBQVM3RyxLQUFLMEcsY0FDM0MzQyxTQUFTOEMsb0JBQW9CLFlBQWE3RyxLQUFLNEcsa0Isc0VBdEJsQ1IsRywrdENDRUFVLEVBQUFBLFNBQUFBLEksNnJCQUNuQixXQUFZVCxHQUFlLGEsNEZBQUEsVUFDekIsY0FBTUEsSUFDRFUsY0FBZ0IsRUFBS04sY0FBYzNGLGNBQ3RDLGlCQUVGLEVBQUtrRyxtQkFBcUIsRUFBS1AsY0FBYzNGLGNBQzNDLG1CQU51QixFLGlDQVUzQixTQUFLMkIsR0FDSHpDLEtBQUsrRyxjQUFjeEMsSUFBTTlCLEVBQUtVLE1BQzlCbkQsS0FBSytHLGNBQWN2QyxJQUFuQixtQkFBcUMvQixFQUFLUSxPQUMxQ2pELEtBQUtnSCxtQkFBbUIzRixZQUFjb0IsRUFBS1EsTUFDM0MsOEMsc0VBZmlCNkQsQ0FBdUJWLEcsa3VDQ0F2QmEsRUFBQUEsU0FBQUEsSSw2ckJBQ25CLFdBQVlaLEVBQWVhLEdBQWtCLFEsTUFBQSxPLDRGQUFBLFMsRUFnQnpCLFdBQ2xCLEVBQUtDLE1BQU1uRixpQkFBaUIsU0FBVSxFQUFLb0YsbUJBQzNDLDJELEVBbEIyQyx1QixFQUFBLEVBQzNDLGNBQU1mLEssc0ZBQ04sRUFBS2MsTUFBUSxFQUFLVixjQUFjM0YsY0FBYyxnQkFDOUMsRUFBS0gsV0FBYSxFQUFLOEYsY0FBYzdGLGlCQUFpQixpQkFDdEQsRUFBS3lHLGNBQWdCLEVBQUtaLGNBQWMzRixjQUFjLHVCQUN0RCxFQUFLc0csa0JBQW9CRixFQUxrQixFLDJDQVE3QyxXQUNFLElBQU1JLEVBQWEsR0FJbkIsT0FIQXRILEtBQUtXLFdBQVdvQixTQUFRLFNBQUN3RixHQUN2QkQsRUFBV0MsRUFBTUMsTUFBUUQsRUFBTUUsU0FFMUJILEksbUJBUVQsV0FDRSwwQ0FDQXRILEtBQUttSCxNQUFNTyxhLHNFQXhCTVQsQ0FBc0JiLEcsOFlDRnRCdUIsRUFBQUEsR0FDakIsY0FBbUUsV0FBckRDLEVBQXFELEVBQXJEQSxhQUFjQyxFQUF1QyxFQUF2Q0Esb0JBQXFCQyxFQUFrQixFQUFsQkEsZ0IsNEZBQWtCLCtCQU1yRCxXQUNWLE1BQU8sQ0FDSE4sS0FBTSxFQUFLTyxNQUFNMUcsWUFDakIyRyxZQUFhLEVBQUtDLGFBQWE1RyxZQUMvQjZHLE9BQVEsRUFBS0MsUUFBUTVELFFBVnNDLHNCQWNyRCxZQUE0QixJQUF6QmlELEVBQXlCLEVBQXpCQSxLQUFNUSxFQUFtQixFQUFuQkEsWUFDbkIsRUFBS0QsTUFBTTFHLFlBQWNtRyxFQUN6QixFQUFLUyxhQUFhNUcsWUFBYzJHLEVBQ2hDLEVBQUtHLFFBQVE1RCxJQUFNMkQsVUFoQm5CbEksS0FBSytILE1BQVFoRSxTQUFTakQsY0FBYzhHLEdBQ3BDNUgsS0FBS2lJLGFBQWVsRSxTQUFTakQsY0FBYytHLEdBQzNDN0gsS0FBS21JLFFBQVVwRSxTQUFTakQsY0FBY2dILE1Dd0IvQk0sRUFBeUIsQ0FDcENsSSxjQUFlLGdCQUNmRSxxQkFBc0Isc0JBQ3RCRSxvQkFBcUIsbUNBQ3JCRSxnQkFBaUIsMEJBQ2pCRSxXQUFZLHdCQVdEMkgsR0FIQ3RFLFNBQVNqRCxjQUFjLG1CQUdSLENBQzNCd0gsVUFBVyxtQkFDWFYsYUFBYyxpQkFDZEMsb0JBQXFCLHdCQUNyQlUsV0FBWXhFLFNBQVNqRCxjQUFjLHlCQUNuQzBILFlBQWF6RSxTQUFTakQsY0FBYywwQkFXekIySCxHQUxIMUUsU0FBU2pELGNBQWMsb0JBQ3pCaUQsU0FBU2pELGNBQWMsbUNBQ2hCaUQsU0FBU2pELGNBQWMsaUJBR1YsQ0FDMUI0SCxTQUFVLGtCQUNWQyxVQUFXNUUsU0FBU2pELGNBQWMsd0JBQ2xDMEgsWUFBYXpFLFNBQVNqRCxjQUFjLDBCQ2V4QyxNQzlETThILEVBQVcsSUFBSWpCLEVBQVMsQ0FDNUJDLGFBQWNTLEVBQWNULGFBQzVCQyxvQkFBcUJRLEVBQWNSLG9CQUNuQ0MsZUZtQ2tCLHFCRWhDZGUsRUFBbUIsSUFBSS9CLEVGaUJULHVCRWhCcEIrQixFQUFpQkMsb0JBS0ssSUFBSTdCLEVBQ3hCOEIsa0JBQWtCQyxTQUNsQixDQUFFQyxZQUFhLE9BQVFDLGFBQWMsY0FDckMsU0FBQ0MsR0FBRCxPQUNFM0csRUFDRzRHLFlBQVksQ0FDWDVCLEtBQU0yQixFQUFXM0IsS0FDakI2QixNQUFPRixFQUFXRSxRQUVuQmxFLE1BQUssU0FBQzFDLEdBQ0xtRyxFQUFTUSxZQUFZLENBQ25CNUIsS0FBTS9FLEVBQUsrRSxLQUNYNkIsTUFBTzVHLEVBQUs0RyxNQUNabkIsT0FBUXpGLEVBQUt5RixZQUdoQjVDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsU0FHTnVELG9CQUVjLElBQUk3QixFQUM5QnFDLGdCQUFnQk4sU0FDaEIsQ0FBRUMsWUFBYSxPQUFRQyxhQUFjLGNBQ3JDLFNBQUNLLEdBQUQsT0FDRS9HLEVBQ0dnSCxjQUFjLENBQUV0QixPQUFRcUIsRUFBVUUsT0FDbEN0RSxNQUFLLFNBQUMxQyxHQUNMbUcsRUFBU1EsWUFBWSxDQUNuQjVCLEtBQU0vRSxFQUFLK0UsS0FDWDZCLE1BQU81RyxFQUFLNEcsTUFDWm5CLE9BQVF6RixFQUFLeUYsWUFHaEI1QyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLFNBR0F1RCxvQkFRcEIsSUFBTVksRUFBYSxTQUFDQyxHQUFELE9BQ25CLElBQUlwSCxFQUFLLENBQ1BFLEtBQUtrSCxFQUFNaEgsZ0JBQWlCLFNBQUNpSCxHQUM3QmYsRUFBaUJnQixLQUFLRCxLRnhDSixrQkU4Q2RFLEVBQWMsSUFBSW5FLEVBQVEsQ0FDL0JFLFNBQVUsU0FBQ00sR0FDVCxJQUFNckMsRUFBYzRGLEVBQVd2RCxHQUMvQjJELEVBQVlDLFFBQVFqRyxFQUFZa0csYUZsRGhCLGlCRXVEbkJGLEVBQVlHLFlBQVlDLGNBc0J4QixJQUFNQyxFQUFVLElBQUlsRCxFQUNsQndCLEVBQWFDLFVBQ2IsU0FBQ3ZHLEdBQ0NBLEVBQUlDLGlCQUVKLElBQU1rRixFQUFhNkMsRUFBUUMsaUJBRXJCdEcsRUFBYzRGLEVBQVcsQ0FDN0J6RyxNQUFPcUUsRUFBV3JFLE1BQ2xCRSxNQUFPbUUsRUFBVytDLFdBRXBCUCxFQUFZQyxRQUFRakcsRUFBWWtHLFdBRWhDRyxFQUFRNUQsUUFDUitELEVBQWlCQyxxQkFHckJKLEVBQVFyQixvQkFZUixJQUFNMEIsRUFBWXpHLFNBQVNqRCxjQUFjLGVBQ25DMkosRUFBbUIxRyxTQUFTakQsY0FBYyxzQkFFMUMwQixFQUFNLElBQUlrSSxFQUFJLENBQ2xCQyxRQUFTLDhDQUNUQyxRQUFTLENBQ1BDLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBTXBCeEMsRUFBY0UsV0FBV3ZHLGlCQUFpQixTQUFTLFdBdEJuRCxJQUNFLEVBQVF3RixFQUFNUSxFQXNCRThDLFNBdEJSdEQsR0FBUixFQUE4Qm9CLEVBQVNtQyxlQUEvQnZELEtBQU1RLEVBQWQsRUFBY0EsWUFDZHdDLEVBQVUvQyxNQUFRRCxFQUNsQmlELEVBQWlCaEQsTUFBUU8sRUFxQnpCOEMsU0FBU2pCLFVBS1hwQixFQUFhRSxVQUFVM0csaUJBQWlCLFNBQVMsV0FDL0NtSSxFQUFRTixVQUtWLElBQU1tQixFQUFhakgsU0FBU2pELGNBQWMsb0JBQ3BDbUssRUFBWWxILFNBQVNqRCxjQUFjLG1CQUVmLElBQUlqQixFQUFjdUksRUFBd0I0QyxHQUNsREUsbUJBRWxCLElBQU1aLEVBQW1CLElBQUl6SyxFQUFjdUksRUFBd0I2QyxHQUNuRVgsRUFBaUJZLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuaW5wdXRTZWxlY3RvcildO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICBlcnJvckVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICAgICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBhbGxWYWxpZCA9IHRoaXMuX2lucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgICAgICAgaWYgKGFsbFZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjsiLCJjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKGFwaSwgZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2ssIGN1cnJlbnRVc2VySWQsIGRlbGV0ZVN1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9hcGkgPSBhcGk7XHJcbiAgICAgICAgdGhpcy5fZGF0YSAtIGRhdGE7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBkYXRhLnRpdGxlO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gZGF0YS5pbWFnZTtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl91c2VySWQgPSBkYXRhLnVzZXJJZDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFVzZXJJZCA9IGN1cnJlbnRVc2VySWQ7XHJcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9kZWxldGVTdWJtaXRIYW5kbGVyID0gZGVsZXRlU3VibWl0SGFuZGxlcjtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICcuY2FyZF9fYnRuLWRlbGV0ZScsXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3KCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgICAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fdGl0bGV9YDtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpKTtcclxuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24oKSk7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgdGl0bGU6IHRoaXMuX3RpdGxlLCBpbWFnZTogdGhpcy5faW1hZ2UgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IGlzTGlrZWQgPSB0aGlzLl9kYXRhLmxpa2VzLnNvbWUoKGxpa2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxpa2UuX2lkID09PSB0aGlzLl9jdXJyZW50VXNlcklkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChpc0xpa2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpa2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRMaWtlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF91cGRhdGVMaWtlQ291bnRlcigpIHtcclxuICAgICAgICB0aGlzLl9saWtlZCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5saWtlLWJ1dHRvbl9fY291bnRlclwiKTtcclxuICAgICAgICB0aGlzLl9saWtlZC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VkLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZVN1Ym1pdEhhbmRsZXIodGhpcy5fY2FyZElkLCB0aGlzLl9lbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfYWRkTGlrZSgpIHtcclxuICAgICAgICB0aGlzLl9hcGlcclxuICAgICAgICAgICAgLmFkZExpa2UodGhpcy5fY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2J0bi1saWtlX2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHJlcztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZW1vdmVMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2FwaVxyXG4gICAgICAgICAgICAucmVtb3ZlTGlrZSh0aGlzLl9jYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fYnRuLWxpa2VfYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhID0gcmVzO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTsgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjVXAgPSB0aGlzLl9oYW5kbGVFc2NVcC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyk7XHJcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gICAgXHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NVcCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fbW91c2VDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX21vdXNlQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NVcCA9IChldnQpID0+IHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfbW91c2VDbGljayA9IChldnQpID0+IHtcclxuICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50KSB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9OyAgICBcclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcucG9wdXBfX2ltYWdlJyxcclxuICAgICk7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnBvcHVwX19jYXB0aW9uJyxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGRhdGEpIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBkYXRhLmltYWdlO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IGBQaG90byBvZiAke2RhdGEudGl0bGV9YDtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWUgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQpO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9O1xyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGRlc2NyaXB0aW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbyA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyY1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8gPSAoeyBuYW1lLCBkZXNjcmlwdGlvbiB9KSAgPT4ge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICAgIH1cclxufSIsIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDYXJkIGFycmF5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICB0aXRsZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgICAgaW1hZ2U6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICAgIGltYWdlOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgICBpbWFnZTogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiTGF0ZW1hclwiLFxyXG4gICAgICBpbWFnZTogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgICAgaW1hZ2U6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgICAgaW1hZ2U6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIlxyXG4gICAgfVxyXG4gIF07XHJcblxyXG4gIGV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmUtYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zYXZlLWJ1dHRvbl90eXBlX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gICAgICBjYXJkU2VjdGlvbjogJy5wbGFjZXNfX2xpc3QnLFxyXG4gICAgICBjYXJkVGVtcGxhdGU6ICcjY2FyZFRlbXBsYXRlJyxcclxuICAgICAgcHJldmlld1BvcHVwOiAnLnBvcHVwX3R5cGVfcHJldmlldycsXHJcbiAgICAgIFxyXG4gICAgICBhZGRNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZFwiKSxcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgcG9wdXBFZGl0VXNlciA9IHtcclxuICAgIGVkaXRNb2RhbDogXCIucG9wdXBfdHlwZV9lZGl0XCIsXHJcbiAgICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgIGRlc2NyaXB0aW9uU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgICBlZGl0QnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpLFxyXG4gICAgY2xvc2VCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKSxcclxuICB9XHJcblxyXG4gIGV4cG9ydCBjb25zdCBwb3B1cEVkaXRBdmF0YXIgPSB7XHJcbiAgICBzZWxlY3RvcjogJy5tb2RhbF90eXBlX2F2YXRhcicsXHJcbiAgICBhdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInLFxyXG4gICAgYnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyksXHJcbiAgICBmb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9hdmF0YXIgLm1vZGFsX19mb3JtJyksXHJcbiAgICBhdmF0YXJJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2F2YXRhci1pbnB1dCcpLFxyXG4gIH07ICBcclxuXHJcbiAgZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IHtcclxuICAgIGFkZE1vZGFsOiBcIi5wb3B1cF90eXBlX2FkZFwiLFxyXG4gICAgYWRkQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpLFxyXG4gICAgY2xvc2VCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKSxcclxuICB9XHJcblxyXG5cclxuICIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldEFwcEluZm8oKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0Q2FyZExpc3QoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG5cclxuICBzZXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaTsiLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW1wb3J0IGNsYXNzZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsIHNlbGVjdG9ycywgcG9wdXBFZGl0VXNlciwgcG9wdXBFZGl0QXZhdGFyLCBwb3B1cEFkZENhcmQgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCByZW5kZXJMb2FkaW5nIGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDcmVhdGUgaW5zdGFuY2VzIG9mIHRoZSBjbGFzc2VzIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IHBvcHVwRWRpdFVzZXIubmFtZVNlbGVjdG9yLFxyXG4gIGRlc2NyaXB0aW9uU2VsZWN0b3I6IHBvcHVwRWRpdFVzZXIuZGVzY3JpcHRpb25TZWxlY3RvcixcclxuICBhdmF0YXJTZWxlY3RvcjogcG9wdXBFZGl0QXZhdGFyLmF2YXRhclNlbGVjdG9yLFxyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRQcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnByZXZpZXdQb3B1cCk7XHJcbmNhcmRQcmV2aWV3UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qICAgICAgICAgICAgICAgICAgV29ya2luZyBvbiB1c2VyIHByb2ZpbGUgYW5kIGF2YXRhciBlZGl0cyAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IG1vZGFsRWRpdEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBtb2RhbEVkaXRVc2VySW5mby5zZWxlY3RvcixcclxuICB7IGRlZmF1bHRUZXh0OiAnU2F2ZScsIHVwZGF0aW5nVGV4dDogJ1NhdmluZy4uLicgfSxcclxuICAoZm9ybUlucHV0cykgPT5cclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckluZm8oe1xyXG4gICAgICAgIG5hbWU6IGZvcm1JbnB1dHMubmFtZSxcclxuICAgICAgICBhYm91dDogZm9ybUlucHV0cy5hYm91dCxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSksXHJcbik7XHJcbm1vZGFsRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IG1vZGFsRWRpdEF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBtb2RhbEVkaXRBdmF0YXIuc2VsZWN0b3IsXHJcbiAgeyBkZWZhdWx0VGV4dDogJ1NhdmUnLCB1cGRhdGluZ1RleHQ6ICdTYXZpbmcuLi4nIH0sXHJcbiAgKGZvcm1JbnB1dCkgPT5cclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckF2YXRhcih7IGF2YXRhcjogZm9ybUlucHV0LmxpbmsgfSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSksXHJcbik7XHJcbm1vZGFsRWRpdEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIFxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZCkgPT5cclxubmV3IENhcmQoe1xyXG4gIGRhdGE6Y2FyZCwgaGFuZGxlQ2FyZENsaWNrOiAoaW1hZ2VEYXRhKSA9PiB7XHJcbiAgY2FyZFByZXZpZXdQb3B1cC5vcGVuKGltYWdlRGF0YSk7XHJcbiAgfSxcclxufSxcclxuc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZSxcclxuKTtcclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xyXG4gcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudC5nZXRWaWV3KCkpO1xyXG4gfSxcclxufSxcclxuIHNlbGVjdG9ycy5jYXJkU2VjdGlvbixcclxuKTtcclxuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcclxuXHJcblxyXG5cclxuXHJcbi8vIGNvbnN0IGVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgLy8gcG9wdXBFZGl0VXNlci5lZGl0TW9kYWwsXHJcbiAgLy8gKGV2dCkgPT4ge1xyXG4gICAgLy8gZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbi8vIFxyXG4gICAgLy8gY29uc3QgaW5wdXRWYWx1ZSA9IGVkaXRGb3JtLmdldElucHV0VmFsdWVzKCk7XHJcbiAgICAvLyB1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICAgIC8vIG5hbWU6IGlucHV0VmFsdWUubmFtZSxcclxuICAgICAgLy8gZGVzY3JpcHRpb246IGlucHV0VmFsdWUuZGVzY3JpcHRpb24sXHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAvLyBlZGl0Rm9ybS5jbG9zZSgpO1xyXG4gICAgLy8gZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgLy8gfSxcclxuLy8gKTtcclxuLy8gZWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cEFkZENhcmQuYWRkTW9kYWwsXHJcbiAgKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGFkZEZvcm0uZ2V0SW5wdXRWYWx1ZXMoKTtcclxuXHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoe1xyXG4gICAgICB0aXRsZTogaW5wdXRWYWx1ZS50aXRsZSxcclxuICAgICAgaW1hZ2U6IGlucHV0VmFsdWUuaW1hZ2V1cmwsXHJcbiAgICB9KTtcclxuICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQuZ2V0VmlldygpKTtcclxuXHJcbiAgICBhZGRGb3JtLmNsb3NlKCk7XHJcbiAgICBhZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIH0sXHJcbik7XHJcbmFkZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQcmVmaWxsIGZ1bmN0aW9uIGFuZCBjb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmZ1bmN0aW9uIHByZWZpbGxFZGl0Rm9ybShtb2RhbFdpbmRvdykge1xyXG4gIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gZGVzY3JpcHRpb247XHJcbn1cclxuXHJcbi8vIGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG4vLyBjb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvd25lci1uYW1lXCIpO1xyXG5jb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvd25lci1kZXNjcmlwdGlvblwiKTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6ICdodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnYWNjYTlkZDMtYTZhNC00NjI2LTg4ZTItNjA2MTk2MDJiZGY5JyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgfSxcclxufSk7XHJcblxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxucG9wdXBFZGl0VXNlci5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcHJlZmlsbEVkaXRGb3JtKGVkaXRGb3JtKTtcclxuICBlZGl0Rm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gZWRpdFByb2ZpbGVDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gZWRpdFBvcHVwLmNsb3NlKCkpO1xyXG5cclxucG9wdXBBZGRDYXJkLmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZEZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVmFsaWRhdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5jb25zdCBlZGl0Rm9ybUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZWRpdCcpO1xyXG5jb25zdCBhZGRGb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9hZGQnKTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVZhbGlkYXRpb25TZXR0aW5ncywgZWRpdEZvcm1FbCk7XHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvblNldHRpbmdzLCBhZGRGb3JtRWwpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWwiLCJxdWVyeVNlbGVjdG9yIiwiX2Zvcm1FbGVtZW50IiwiaW5wdXRFbCIsImVycm9yRWwiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXZlcnkiLCJkaXNhYmxlZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX3NldHVwRXZlbnRMaXN0ZW5lcnMiLCJpbnB1dEVsZW1lbnQiLCJDYXJkIiwiYXBpIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImN1cnJlbnRVc2VySWQiLCJkZWxldGVTdWJtaXRIYW5kbGVyIiwiX2FwaSIsIl9kYXRhIiwiX3RpdGxlIiwidGl0bGUiLCJfaW1hZ2UiLCJpbWFnZSIsIl9jYXJkSWQiLCJfaWQiLCJfdXNlcklkIiwidXNlcklkIiwiX293bmVySWQiLCJvd25lciIsIl9jdXJyZW50VXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfZGVsZXRlU3VibWl0SGFuZGxlciIsImNhcmRFbGVtZW50IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2RlbGV0ZUJ1dHRvbiIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2ltYWdlRWxlbWVudCIsIl9saWtlQnV0dG9uIiwic3JjIiwiYWx0IiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwibGlrZXMiLCJzb21lIiwibGlrZSIsIl9yZW1vdmVMaWtlIiwiX2FkZExpa2UiLCJfbGlrZWQiLCJsZW5ndGgiLCJhZGRMaWtlIiwidGhlbiIsInJlcyIsIl9saWtlQ291bnRlciIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUxpa2UiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NVcCIsImJpbmQiLCJfbW91c2VDbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9wcmV2aWV3SW1hZ2UiLCJfcHJldmlld0ltYWdlVGl0bGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnV0dG9uIiwiaW5wdXRWYWx1ZSIsImlucHV0IiwibmFtZSIsInZhbHVlIiwicmVzZXQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJhdmF0YXIiLCJfYXZhdGFyIiwiZm9ybVZhbGlkYXRpb25TZXR0aW5ncyIsInBvcHVwRWRpdFVzZXIiLCJlZGl0TW9kYWwiLCJlZGl0QnV0dG9uIiwiY2xvc2VCdXR0b24iLCJwb3B1cEFkZENhcmQiLCJhZGRNb2RhbCIsImFkZEJ1dHRvbiIsInVzZXJJbmZvIiwiY2FyZFByZXZpZXdQb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwibW9kYWxFZGl0VXNlckluZm8iLCJzZWxlY3RvciIsImRlZmF1bHRUZXh0IiwidXBkYXRpbmdUZXh0IiwiZm9ybUlucHV0cyIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJtb2RhbEVkaXRBdmF0YXIiLCJmb3JtSW5wdXQiLCJzZXRVc2VyQXZhdGFyIiwibGluayIsImNyZWF0ZUNhcmQiLCJjYXJkIiwiaW1hZ2VEYXRhIiwib3BlbiIsImNhcmRTZWN0aW9uIiwiYWRkSXRlbSIsImdldFZpZXciLCJyZW5kZXJJdGVtcyIsImluaXRpYWxDYXJkcyIsImFkZEZvcm0iLCJnZXRJbnB1dFZhbHVlcyIsImltYWdldXJsIiwiYWRkRm9ybVZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJlZGl0Rm9ybSIsImdldFVzZXJJbmZvIiwiZWRpdEZvcm1FbCIsImFkZEZvcm1FbCIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9